import{a as T,b as R,d as z}from"./chunk-AMPTR2I5.js";import"./chunk-AYUBXJEP.js";import{A as O,B as C,C as p,D as m,E as l,H as A,I as f,J as N,K as G,P as U,Q as P,T as q,h as b,i as _,k as g,l as u,m as y,n as h,o as D,p as c,q as w,r as d,s as S,t as j,u as k,v as x,w as M,x as v,y as a,z as i}from"./chunk-3JA5HMFD.js";function H(r,n){if(r&1){let e=C();a(0,"button",8),p("click",function(){g(e);let o=m().$index,s=m();return u(s.onRemove(o))}),l(1," Eliminar "),i()}}function J(r,n){if(r&1){let e=C();a(0,"div",2)(1,"input",6),p("change",function(o){let s=g(e).$index,Y=m();return u(Y.onAdd(o,s))}),i(),w(2,H,2,0,"button",7),i()}if(r&2){let e=n.$index,t=m();c(),d("value",t.playerNames()[e]),c(),k(t.playerNames().length>1?2:-1)}}var E=class r{playerNames=h.required();player=y();index=y();startGame=y();onAdd(n,e){let t=n.target.value;if(t==null||t==null)return;let o={index:e,name:t};this.player.emit(o)}onNewPlayer(){let n={name:""};this.player.emit(n)}onRemove(n){this.index.emit(n)}onStart(){this.startGame.emit(!0)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["player-setup"]],inputs:{playerNames:[1,"playerNames"]},outputs:{player:"player",index:"index",startGame:"startGame"},standalone:!0,features:[f],decls:11,vars:4,consts:[[1,"player-setup"],[1,"players-list"],[1,"player-input"],[1,"setup-buttons"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["type","text","placeholder","Enter player name",1,"input",3,"change","value"],[1,"btn","btn-danger"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Configuraci\xF3n de jugadores"),i(),a(3,"div",1),M(4,J,3,2,"div",2,x),i(),a(6,"div",3)(7,"button",4),p("click",function(){return t.onNewPlayer()}),l(8," Agregar jugador "),i(),a(9,"button",5),p("click",function(){return t.onStart()}),l(10," Comenzar juego "),i()()()),e&2&&(c(4),v(t.playerNames()),c(3),d("disabled",t.playerNames().length>=4),c(2),j(t.playerNames()[0].length==0?"disabled":""),d("disabled",t.playerNames()[0].length==0))},dependencies:[P],styles:[".player-setup[_ngcontent-%COMP%]{padding:1.5rem;width:90%;margin:0 auto;background-color:#fff;border-radius:.8rem;box-shadow:0 .2rem .4rem #0000001a;z-index:10}.player-setup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1.5rem;color:#c41e3a;text-align:center}.players-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.player-input[_ngcontent-%COMP%]{display:flex;gap:.5rem}.player-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{flex:1;padding:.8rem;border:.1rem solid #ddd;border-radius:.4rem;font-size:1.4rem}.player-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2rem}.setup-buttons[_ngcontent-%COMP%]{display:flex;gap:.8rem;justify-content:center;flex-wrap:wrap}.setup-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-size:1.4rem}.disabled[_ngcontent-%COMP%]{filter:grayscale(60%)}@media screen and (min-width: 768px){.player-setup[_ngcontent-%COMP%]{padding:2rem;width:80%}h2[_ngcontent-%COMP%]{font-size:2.2rem;text-align:left}.player-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{font-size:1.6rem}.setup-buttons[_ngcontent-%COMP%]{justify-content:flex-end}}@media screen and (min-width: 1024px){.player-setup[_ngcontent-%COMP%]{padding:3rem;width:60%}h2[_ngcontent-%COMP%]{font-size:2.4rem}.player-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{font-size:1.8rem}.setup-buttons[_ngcontent-%COMP%]{gap:1.5rem}button[_ngcontent-%COMP%]{font-size:1.6rem}}"]})};var F=class r{card=h.required();cardClick=y();urlImg="https://png.pngtree.com/png-clipart/20221125/ourmid/pngtree-christmas-hat-vector-art-download-png-image_6477289.png";onCardClick(){!this.card().isMatched&&!this.card().isFlipped&&this.cardClick.emit(this.card())}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["shared-card"]],inputs:{card:[1,"card"]},outputs:{cardClick:"cardClick"},standalone:!0,features:[f],decls:8,vars:7,consts:[[1,"card",3,"click"],[1,"card-inner"],[1,"card-front","row"],[1,"card-back-content"],[1,"card-back","row"],["alt","gorrito",1,"christmas-hat",3,"src"],[3,"src","alt"]],template:function(e,t){e&1&&(a(0,"div",0),p("click",function(){return t.onCardClick()}),a(1,"div",1)(2,"div",2)(3,"div",3),l(4,"?"),i()(),a(5,"div",4),O(6,"img",5)(7,"img",6),i()()()),e&2&&(S("flipped",t.card().isFlipped)("matched",t.card().isMatched),c(6),d("src",t.urlImg,D),c(),d("src",t.card().imageUrl,D)("alt",t.card().imageUrl))},styles:[".card[_ngcontent-%COMP%]{width:12rem;height:12rem;perspective:1000px;cursor:pointer;margin:1rem}.card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card.matched[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}.card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .6s}.card[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;background-color:#fff;border-radius:.8rem;box-shadow:0 .2rem .4rem #0000001a}.card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);position:relative}.card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]   .christmas-hat[_ngcontent-%COMP%]{position:absolute;top:0rem;left:50%;transform:translate(-50%);width:5rem;height:5rem;background-size:contain;z-index:2;pointer-events:none}.card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:contain}.card[_ngcontent-%COMP%]   .card-back-content[_ngcontent-%COMP%]{font-size:3rem;color:#c41e3a}"]})};function L(r,n){if(r&1){let e=C();a(0,"shared-card",5),p("cardClick",function(o){g(e);let s=m();return u(s.onCardClick(o))}),i()}if(r&2){let e=n.$implicit;d("card",e)}}function Q(r,n){if(r&1&&(a(0,"div",6),N(1,"async"),a(2,"span"),l(3),i()()),r&2){let e,t=n.$implicit,o=m();S("active",((e=G(1,4,o.gameService.currentPlayer$))==null?null:e.id)===t.id),c(3),A("",t.name,": ",t.score,"")}}var V=class r{gameStarted=h.required();gameService=b(T);ngOnDestroy(){this.gameService.resetGame()}onCardClick(n){this.gameStarted()&&this.gameService.flipCard(n)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["game-board"]],inputs:{gameStarted:[1,"gameStarted"]},standalone:!0,features:[f],decls:11,vars:4,consts:[[1,"game"],[1,"cards-grid"],[3,"card"],[1,"score","column"],[1,"player-score","row",3,"active"],[3,"cardClick","card"],[1,"player-score","row"]],template:function(e,t){e&1&&(a(0,"section",0)(1,"div",1),M(2,L,1,1,"shared-card",2,x),N(4,"async"),i(),a(5,"div",3)(6,"h3"),l(7,"Puntajes"),i(),M(8,Q,4,6,"div",4,x),N(10,"async"),i()()),e&2&&(c(2),v(G(4,0,t.gameService.cards$)),c(6),v(G(10,2,t.gameService.players$)))},dependencies:[P,U,z,F],styles:['.game[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;gap:2rem;z-index:10;min-height:80vh;width:100%;grid-template-columns:1fr;grid-template-areas:"score" "cards"}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(12rem,1fr));gap:1rem;justify-items:center;max-height:60vh;overflow-y:scroll;scrollbar-width:thin;grid-area:cards}.score[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:.8rem;box-shadow:0 .2rem .4rem #0000001a;height:auto;flex-direction:row;gap:2rem;grid-area:score}.score[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;width:100%;color:#c41e3a}.player-score[_ngcontent-%COMP%]{padding:1rem;border-radius:.4rem;font-size:1.6rem;width:100%;height:auto}.player-score.active[_ngcontent-%COMP%]{background-color:#c41e3a;color:#fff}@media (min-width: 768px){.game[_ngcontent-%COMP%]{grid-template-columns:1fr 15rem;grid-template-rows:1fr;grid-template-areas:"cards score"}.cards-grid[_ngcontent-%COMP%]{max-height:70vh}.score[_ngcontent-%COMP%]{height:85%;flex-direction:column}.player-score[_ngcontent-%COMP%]{height:3.5rem}}@media (min-width: 1025px){.game[_ngcontent-%COMP%]{grid-template-columns:1fr 20rem;grid-template-rows:1fr}.cards-grid[_ngcontent-%COMP%]{max-height:80vh}.score[_ngcontent-%COMP%]{height:90%}.player-score[_ngcontent-%COMP%]{height:4rem}}']})};function W(r,n){if(r&1&&O(0,"game-board",1),r&2){let e=m();d("gameStarted",e.gameStarted)}}function X(r,n){if(r&1){let e=C();a(0,"player-setup",3),p("player",function(o){g(e);let s=m();return u(s.addPlayer(o))})("index",function(o){g(e);let s=m();return u(s.removePlayer(o))})("startGame",function(o){g(e);let s=m();return u(s.startGame(o))}),i()}if(r&2){let e=m();d("playerNames",e.playerNames)}}var $=class r{playerNames=[""];gameStarted=!1;gameService=b(T);router=b(q);addPlayer(n){let e=n.index;e==null||e==null?this.newPlayer(n):this.editPlayer(n,e)}newPlayer(n){let e=n.name;this.playerNames.push(e)}editPlayer(n,e){this.playerNames[e]=n.name}removePlayer(n){this.playerNames=this.playerNames.filter((e,t)=>t!==n)}startGame(n=!1){if(!n)return;this.gameStarted=n;let e=this.playerNames.filter(t=>t.trim()!=="");e.length<1||this.gameService.initializeGame(e)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["pages-game"]],standalone:!0,features:[f],decls:4,vars:1,consts:[[1,"game-container","snow"],[3,"gameStarted"],[3,"playerNames"],[3,"player","index","startGame","playerNames"]],template:function(e,t){e&1&&(O(0,"shared-header"),a(1,"main",0),w(2,W,1,1,"game-board",1)(3,X,1,1,"player-setup",2),i()),e&2&&(c(2),k(t.gameStarted?2:3))},dependencies:[P,E,V,z,R],styles:[".game-container[_ngcontent-%COMP%]{height:80vh;width:100%;padding:2rem;z-index:10}"]})};export{$ as default};

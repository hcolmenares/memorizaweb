import{a as T,d as q}from"./chunk-QZLJUMLU.js";import"./chunk-AYUBXJEP.js";import{A as k,B as C,C as p,D as m,E as l,H as j,I as f,J as N,K as G,P as A,Q as h,T as U,h as P,i as _,k as u,l as g,m as y,n as b,o as V,p as c,q as O,r as d,s as S,t as $,u as w,v as x,w as v,x as M,y as a,z as i}from"./chunk-3JA5HMFD.js";function Y(r,n){if(r&1){let e=C();a(0,"button",8),p("click",function(){u(e);let o=m().$index,s=m();return g(s.onRemove(o))}),l(1," Eliminar "),i()}}function H(r,n){if(r&1){let e=C();a(0,"div",2)(1,"input",6),p("change",function(o){let s=u(e).$index,R=m();return g(R.onAdd(o,s))}),i(),O(2,Y,2,0,"button",7),i()}if(r&2){let e=n.$index,t=m();c(),d("value",t.playerNames()[e]),c(),w(t.playerNames().length>1?2:-1)}}var z=class r{playerNames=b.required();player=y();index=y();startGame=y();onAdd(n,e){let t=n.target.value;if(t==null||t==null)return;let o={index:e,name:t};this.player.emit(o)}onNewPlayer(){let n={name:""};this.player.emit(n)}onRemove(n){this.index.emit(n)}onStart(){this.startGame.emit(!0)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["player-setup"]],inputs:{playerNames:[1,"playerNames"]},outputs:{player:"player",index:"index",startGame:"startGame"},standalone:!0,features:[f],decls:11,vars:4,consts:[[1,"player-setup"],[1,"players-list"],[1,"player-input"],[1,"setup-buttons"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["type","text","placeholder","Enter player name",1,"input",3,"change","value"],[1,"btn","btn-danger"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"h2"),l(2,"Configuraci\xF3n de jugadores"),i(),a(3,"div",1),v(4,H,3,2,"div",2,x),i(),a(6,"div",3)(7,"button",4),p("click",function(){return t.onNewPlayer()}),l(8," Agregar jugador "),i(),a(9,"button",5),p("click",function(){return t.onStart()}),l(10," Comenzar juego "),i()()()),e&2&&(c(4),M(t.playerNames()),c(3),d("disabled",t.playerNames().length>=4),c(2),$(t.playerNames()[0].length==0?"disabled":""),d("disabled",t.playerNames()[0].length==0))},dependencies:[h],styles:[".player-setup[_ngcontent-%COMP%]{padding:1.5rem;width:90%;margin:0 auto;background-color:#fff;border-radius:.8rem;box-shadow:0 .2rem .4rem #0000001a;z-index:10}.player-setup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1.5rem;color:#c41e3a;text-align:center}.players-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem}.player-input[_ngcontent-%COMP%]{display:flex;gap:.5rem}.player-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{flex:1;padding:.8rem;border:.1rem solid #ddd;border-radius:.4rem;font-size:1.4rem}.player-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.2rem}.setup-buttons[_ngcontent-%COMP%]{display:flex;gap:.8rem;justify-content:center;flex-wrap:wrap}.setup-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-size:1.4rem}.disabled[_ngcontent-%COMP%]{filter:grayscale(60%)}@media screen and (min-width: 768px){.player-setup[_ngcontent-%COMP%]{padding:2rem;width:80%}h2[_ngcontent-%COMP%]{font-size:2.2rem;text-align:left}.player-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{font-size:1.6rem}.setup-buttons[_ngcontent-%COMP%]{justify-content:flex-end}}@media screen and (min-width: 1024px){.player-setup[_ngcontent-%COMP%]{padding:3rem;width:60%}h2[_ngcontent-%COMP%]{font-size:2.4rem}.player-input[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{font-size:1.8rem}.setup-buttons[_ngcontent-%COMP%]{gap:1.5rem}button[_ngcontent-%COMP%]{font-size:1.6rem}}"]})};var E=class r{card=b.required();cardClick=y();urlImg="https://png.pngtree.com/png-clipart/20221125/ourmid/pngtree-christmas-hat-vector-art-download-png-image_6477289.png";onCardClick(){!this.card().isMatched&&!this.card().isFlipped&&this.cardClick.emit(this.card())}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["shared-card"]],inputs:{card:[1,"card"]},outputs:{cardClick:"cardClick"},standalone:!0,features:[f],decls:8,vars:7,consts:[[1,"card",3,"click"],[1,"card-inner"],[1,"card-front","row"],[1,"card-back-content"],[1,"card-back","row"],["alt","gorrito",1,"christmas-hat",3,"src"],[3,"src","alt"]],template:function(e,t){e&1&&(a(0,"div",0),p("click",function(){return t.onCardClick()}),a(1,"div",1)(2,"div",2)(3,"div",3),l(4,"?"),i()(),a(5,"div",4),k(6,"img",5)(7,"img",6),i()()()),e&2&&(S("flipped",t.card().isFlipped)("matched",t.card().isMatched),c(6),d("src",t.urlImg,V),c(),d("src",t.card().imageUrl,V)("alt",t.card().imageUrl))},styles:[".card[_ngcontent-%COMP%]{width:12rem;height:12rem;perspective:1000px;cursor:pointer;margin:1rem}.card.flipped[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card.matched[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}.card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .6s}.card[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;background-color:#fff;border-radius:.8rem;box-shadow:0 .2rem .4rem #0000001a}.card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);position:relative}.card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]   .christmas-hat[_ngcontent-%COMP%]{position:absolute;top:0rem;left:50%;transform:translate(-50%);width:5rem;height:5rem;background-size:contain;z-index:2;pointer-events:none}.card[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:contain}.card[_ngcontent-%COMP%]   .card-back-content[_ngcontent-%COMP%]{font-size:3rem;color:#c41e3a}"]})};function K(r,n){if(r&1){let e=C();a(0,"shared-card",6),p("cardClick",function(o){u(e);let s=m();return g(s.onCardClick(o))}),i()}if(r&2){let e=n.$implicit;d("card",e)}}function L(r,n){if(r&1&&(a(0,"div",7),N(1,"async"),a(2,"span"),l(3),i()()),r&2){let e,t=n.$implicit,o=m();S("active",((e=G(1,4,o.gameService.currentPlayer$))==null?null:e.id)===t.id),c(3),j("",t.name,": ",t.score,"")}}var F=class r{gameStarted=b.required();gameService=P(T);ngOnDestroy(){this.gameService.resetGame()}onCardClick(n){this.gameStarted()&&this.gameService.flipCard(n)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["game-board"]],inputs:{gameStarted:[1,"gameStarted"]},standalone:!0,features:[f],decls:12,vars:4,consts:[[1,"game"],[1,"game-board"],[1,"cards-grid"],[3,"card"],[1,"player-scores"],[1,"player-score",3,"active"],[3,"cardClick","card"],[1,"player-score"]],template:function(e,t){e&1&&(a(0,"section",0)(1,"div",1)(2,"div",2),v(3,K,1,1,"shared-card",3,x),N(5,"async"),i(),a(6,"div",4)(7,"h3"),l(8,"Scores"),i(),v(9,L,4,6,"div",5,x),N(11,"async"),i()()()),e&2&&(c(3),M(G(5,0,t.gameService.cards$)),c(6),M(G(11,2,t.gameService.players$)))},dependencies:[h,A,q,E],styles:[".game[_ngcontent-%COMP%]{min-height:80vh;width:100%}.game-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 20rem;gap:2rem;margin-top:2rem;z-index:10}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(12rem,1fr));gap:1rem;justify-items:center}.player-scores[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:.8rem;box-shadow:0 .2rem .4rem #0000001a}.player-scores[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1.5rem;color:#c41e3a}.player-score[_ngcontent-%COMP%]{padding:1rem;margin-bottom:.5rem;border-radius:.4rem;font-size:1.6rem}.player-score.active[_ngcontent-%COMP%]{background-color:#c41e3a;color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#bd2130}.btn-secondary[_ngcontent-%COMP%]{background-color:#165b33;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#0c321c}"]})};function Q(r,n){if(r&1&&k(0,"game-board",1),r&2){let e=m();d("gameStarted",e.gameStarted)}}function W(r,n){if(r&1){let e=C();a(0,"player-setup",3),p("player",function(o){u(e);let s=m();return g(s.addPlayer(o))})("index",function(o){u(e);let s=m();return g(s.removePlayer(o))})("startGame",function(o){u(e);let s=m();return g(s.startGame(o))}),i()}if(r&2){let e=m();d("playerNames",e.playerNames)}}var I=class r{playerNames=[""];gameStarted=!1;gameService=P(T);router=P(U);addPlayer(n){let e=n.index;e==null||e==null?this.newPlayer(n):this.editPlayer(n,e)}newPlayer(n){let e=n.name;this.playerNames.push(e)}editPlayer(n,e){this.playerNames[e]=n.name}removePlayer(n){this.playerNames=this.playerNames.filter((e,t)=>t!==n)}startGame(n=!1){if(!n)return;this.gameStarted=n;let e=this.playerNames.filter(t=>t.trim()!=="");e.length<1||this.gameService.initializeGame(e)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["pages-game"]],standalone:!0,features:[f],decls:3,vars:1,consts:[[1,"game-container","snow"],[3,"gameStarted"],[3,"playerNames"],[3,"player","index","startGame","playerNames"]],template:function(e,t){e&1&&(a(0,"main",0),O(1,Q,1,1,"game-board",1)(2,W,1,1,"player-setup",2),i()),e&2&&(c(),w(t.gameStarted?1:2))},dependencies:[h,z,F],styles:[".game-container[_ngcontent-%COMP%]{margin:0 auto;height:80vh;width:100%;padding:2rem}"]})};export{I as default};
